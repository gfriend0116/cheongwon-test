$(document).ready(function(){

	// 이미지 마우스 오버 핸들러
	$('img[data-alt-src]').each(function(){
		new Image().src = $(this).data('alt-src');
	}).hover(sourceSwap, sourceSwap);


	// 클릭시 라벨 지우기
    var i_text = $('.item>.i_label').next('.i_text');
    $('.item>.i_label').css('position','absolute');
    i_text
        .focus(function(){
            $(this).prev('.i_label').css('visibility','hidden');
        })
        .blur(function(){
            if($(this).val() == ''){
                $(this).prev('.i_label').css('visibility','visible');
            } else {
                $(this).prev('.i_label').css('visibility','hidden');
            }
        })
        .change(function(){
            if($(this).val() == ''){
                $(this).prev('.i_label').css('visibility','visible');
            } else {
                $(this).prev('.i_label').css('visibility','hidden');
            }
        })
        .blur();
});

var sourceSwap = function () {
    var $this = $(this);
    var newSource = $this.data('alt-src');
    $this.data('alt-src', $this.attr('src'));
    $this.attr('src', newSource);
}

//레이어 팝업 열기 
function fnPopupOpen(id, w, h){
	var target = document.getElementById(id);
	var _w = $(window).outerWidth();
	var _h = $(window).outerHeight();
	var mask = $('.layer_mask');
	$(mask).show().height(_h);
	$(target).width(w).height('auto')
		.show()
		.css({
			top: (_h-$(target).outerHeight())/2 +'px',
			left: (_w-w)/2 + 'px'
			});
}

//레이어 팝업 닫기 
function fnPopupClose(id){
	//var target = document.getElementById(id);
	var target = $('.layer_popup');
	var mask = $('.layer_mask');
	$(target).hide();
	$(mask).hide();	
}

$(window).resize(function(){
	var _w = $(window).outerWidth();
	var _h = $(window).outerHeight();
	var mask = $('.layer_mask');
	$(mask).height(_h);
});